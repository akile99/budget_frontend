{"ast":null,"code":"import _slicedToArray from\"/Users/adamkile/Desktop/Programming/budget/budget_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Select from'react-select';import{jsx as _jsx}from\"react/jsx-runtime\";function Search(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var categoryList=[];// const [clabel, setClabel] = useState('-1')\nvar handleChange=function handleChange(data){props.onChange(data.value,data.label);//setClabel(data.label)\n};useEffect(function(){try{fetch(props.host+'category').then(function(response){return response.json();}).then(function(data){data.map(function(i){categoryList.push({label:i.category,value:i.catid});});}).then(setCategories(categoryList));}catch(error){console.error(error);}},[props.host]);return/*#__PURE__*/_jsx(\"div\",{className:\"w-30\",children:/*#__PURE__*/_jsx(Select,{onChange:handleChange,options:categories})});}export default Search;","map":{"version":3,"sources":["/Users/adamkile/Desktop/Programming/budget/budget_frontend/src/components/Search/Search.js"],"names":["React","useState","useEffect","Select","Search","props","categories","setCategories","categoryList","handleChange","data","onChange","value","label","fetch","host","then","response","json","map","i","push","category","catid","error","console"],"mappings":"iLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,C,2CAEA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CACtB,cAAoCJ,QAAQ,CAAC,EAAD,CAA5C,wCAAOK,UAAP,eAAmBC,aAAnB,eACA,GAAMC,CAAAA,YAAY,CAAG,EAArB,CACA;AAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,CAAU,CAC9BL,KAAK,CAACM,QAAN,CAAeD,IAAI,CAACE,KAApB,CAA2BF,IAAI,CAACG,KAAhC,EACA;AACA,CAHD,CAKAX,SAAS,CAAC,UAAM,CACf,GAAI,CACJY,KAAK,CAACT,KAAK,CAACU,IAAN,CAAW,UAAZ,CAAL,CACEC,IADF,CACO,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADf,EAEOF,IAFP,CAEY,SAAAN,IAAI,CAAI,CACbA,IAAI,CAACS,GAAL,CAAS,SAAAC,CAAC,CAAI,CACbZ,YAAY,CAACa,IAAb,CAAkB,CAACR,KAAK,CAAEO,CAAC,CAACE,QAAV,CAAoBV,KAAK,CAAEQ,CAAC,CAACG,KAA7B,CAAlB,EACA,CAFD,EAGA,CANP,EAOOP,IAPP,CAOYT,aAAa,CAACC,YAAD,CAPzB,EAQI,CAAC,MAAOgB,KAAP,CAAc,CAClBC,OAAO,CAACD,KAAR,CAAcA,KAAd,EACA,CACD,CAbQ,CAaP,CAACnB,KAAK,CAACU,IAAP,CAbO,CAAT,CAeA,mBACC,YAAK,SAAS,CAAC,MAAf,uBACE,KAAC,MAAD,EACC,QAAQ,CAAEN,YADX,CAEE,OAAO,CAAEH,UAFX,EADF,EADD,CAQA,CAED,cAAeF,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Select from 'react-select';\n\nfunction Search(props) {\n\tconst [categories, setCategories] = useState([])\n\tconst categoryList = [];\n\t// const [clabel, setClabel] = useState('-1')\n\n\tconst handleChange = (data) => {\n\t\tprops.onChange(data.value, data.label)\n\t\t//setClabel(data.label)\n\t}\n\n\tuseEffect(() => {\n\t\ttry {\n\t\tfetch(props.host+'category')\n\t\t\t.then(response => response.json())\n\t      \t.then(data => {\n\t      \t\tdata.map(i => {\n\t      \t\t\tcategoryList.push({label: i.category, value: i.catid})\n\t      \t\t})\n\t      \t})\n\t      \t.then(setCategories(categoryList));\n\t    } catch (error) {\n\t\t\tconsole.error(error)\n\t\t}\n\t},[props.host])\n\n\treturn (\n\t\t<div className='w-30'>\n\t\t  <Select\n\t\t  \tonChange={handleChange}\n\t\t    options={categories}\n\t\t  />\n\t\t</div>\n\t);\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}