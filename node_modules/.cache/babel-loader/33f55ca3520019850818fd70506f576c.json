{"ast":null,"code":"import _slicedToArray from\"/Users/adamkile/Desktop/Programming/budget/budget_frontend_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Search from'../Search/Search.js';import'./Transaction.css';// const getStingDate = require('./Functions/getStingDate');\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Transaction=function Transaction(props){var transaction_id=props.transaction_id,accountid=props.accountid;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),edit=_useState2[0],setEdit=_useState2[1];var _useState3=useState(props.date),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setDate=_useState4[1];var _useState5=useState(props.vendor),_useState6=_slicedToArray(_useState5,2),vendor=_useState6[0],setVendor=_useState6[1];var _useState7=useState(props.amount),_useState8=_slicedToArray(_useState7,2),amount=_useState8[0],setAmount=_useState8[1];var _useState9=useState(props.category),_useState10=_slicedToArray(_useState9,2),category=_useState10[0],setCategory=_useState10[1];var _useState11=useState(props.status),_useState12=_slicedToArray(_useState11,2),status=_useState12[0],setStatus=_useState12[1];function getFormattedDate(date){var d=new Date(date);var year=d.getFullYear();var month=d.getMonth()+1;var day=d.getDate()+1;return month+'-'+day+'-'+year;}function getStingDate(date){var d=new Date(date);var year=d.getFullYear();var month=d.getMonth()+1;var day=d.getDate();month<10?month=\"0\".concat(month):month=\"\".concat(month);day<10?day=\"0\".concat(day):day=\"\".concat(day);return\"\".concat(year,\"-\").concat(month,\"-\").concat(day);}var handelStatus=function handelStatus(transaction_id,status,vendor){fetch(\"\".concat(props.host,\"updateStatus\"),{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"transaction_id\":transaction_id,\"accountid\":accountid})}).then(function(response){return response.json();}).catch(console.log);status==='Cleared'?setStatus('Pending'):setStatus('Cleared');props.onChange();// console.log(transaction_id, vendor)\n};var handelEdit=function handelEdit(transaction_id){setEdit(!edit);};var onDateChange=function onDateChange(event){setDate(event.target.value);};var onVendorChange=function onVendorChange(event){setVendor(event.target.value);};var onAmountChange=function onAmountChange(event){setAmount(event.target.value);};var onCategoryChange=function onCategoryChange(event){setCategory(event);};var onUpdateTransaction=function onUpdateTransaction(){fetch(props.host+'update',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"date\":date,\"vendor\":vendor,\"category\":category,\"status\":props.status,\"amount\":amount,\"transaction_id\":transaction_id})}).then(function(response){return response.json();}).catch(console.log);setVendor(vendor);setDate(stringDate);setAmount(amount);setCategory(category);handelEdit(transaction_id);props.onChange();};var formatedDate=getFormattedDate(date);var stringDate=getStingDate(date);// const removeTransactions = handelRemove(id)\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"outline\",children:!edit?/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-left\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"date transaction\",children:formatedDate}),/*#__PURE__*/_jsx(\"p\",{className:\"vendor transaction\",children:vendor}),/*#__PURE__*/_jsx(\"p\",{className:\"dollar transaction\",children:\"$\"}),/*#__PURE__*/_jsx(\"p\",{className:\"amount transaction\",children:amount}),/*#__PURE__*/_jsx(\"p\",{className:\"status transaction\",onClick:function onClick(){return handelStatus(transaction_id,status,vendor);},children:status}),/*#__PURE__*/_jsx(\"p\",{className:\"category transaction\",children:category}),/*#__PURE__*/_jsx(\"p\",{className:\"edit transaction\",onClick:function onClick(){return handelEdit(transaction_id);},children:\"edit\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fl w-10 tc\",children:transaction_id}),/*#__PURE__*/_jsx(\"input\",{className:\"f4 pa2 w-60 center\",type:\"date\",id:\"date\",name:\"date\",value:stringDate,onChange:onDateChange}),/*#__PURE__*/_jsx(\"input\",{className:\"f4 pa2 w-70 center\",type:\"text\",placeholder:\"Vendor\",id:\"Vendor\",name:\"Vendor\",value:vendor,onChange:onVendorChange}),/*#__PURE__*/_jsx(\"input\",{className:\"f4 pa2 w-70 center\",type:\"double\",placeholder:\"Amount\",id:\"Amount\",name:\"Amount\",value:amount,onChange:onAmountChange}),/*#__PURE__*/_jsx(Search,{onChange:onCategoryChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handelEdit,children:\"Cancel \"}),/*#__PURE__*/_jsx(\"button\",{onClick:onUpdateTransaction,children:\"Update \"})]})});};export default Transaction;","map":{"version":3,"sources":["/Users/adamkile/Desktop/Programming/budget/budget_frontend_test/src/components/Transactions/Transaction.js"],"names":["React","useState","Search","Transaction","props","transaction_id","accountid","edit","setEdit","date","setDate","vendor","setVendor","amount","setAmount","category","setCategory","status","setStatus","getFormattedDate","d","Date","year","getFullYear","month","getMonth","day","getDate","getStingDate","handelStatus","fetch","host","method","headers","body","JSON","stringify","then","response","json","catch","console","log","onChange","handelEdit","onDateChange","event","target","value","onVendorChange","onAmountChange","onCategoryChange","onUpdateTransaction","stringDate","formatedDate"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Search from '../Search/Search.js'\nimport './Transaction.css';\n\n// const getStingDate = require('./Functions/getStingDate');\n\nconst Transaction = (props) => {\n\tconst { transaction_id, accountid } = props;\n\tconst [edit, setEdit] = useState(false);\n\tconst [date, setDate] = useState(props.date)\n\tconst [vendor, setVendor] = useState(props.vendor)\n\tconst [amount, setAmount] =\tuseState(props.amount)\n\tconst [category, setCategory] = useState(props.category)\n\tconst [status, setStatus] = useState(props.status);\n\n\tfunction getFormattedDate(date) {\n\t\tconst d = new Date(date);\n\n\t\tconst year = d.getFullYear();\n\t\tconst month = (d.getMonth() + 1)\n\t\tconst day = d.getDate() + 1;\n\t  \n\t  return month + '-' + day + '-' + year;\n\t}\n\n\tfunction getStingDate(date) {\n\t\tconst d = new Date(date);\n\n\t\tconst year = d.getFullYear();\n\t\tlet month = (d.getMonth() + 1)\n\t\tlet day = d.getDate();\n\n\t\tmonth < 10 ? month = `0${month}` : month = `${month}`\n\t\tday < 10 ? day = `0${day}` : day = `${day}`;\n\t  \n\t  return `${year}-${month}-${day}`;\n\t}\n\n\tconst handelStatus = (transaction_id, status, vendor) => {\n\t\tfetch(`${props.host}updateStatus`, {\n\t\t\tmethod: 'post',\n\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\tbody: JSON.stringify({\n\t\t\t  \"transaction_id\": transaction_id,\n\t\t\t  \"accountid\": accountid\n\t\t\t})\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.catch(console.log)\n\t\tstatus === 'Cleared' ? setStatus('Pending') :\tsetStatus('Cleared')\n\t\tprops.onChange()\n\t\t// console.log(transaction_id, vendor)\n\n\t}\n\n\tconst handelEdit = (transaction_id) => {\n\t\tsetEdit(!edit)\n\t}\n\n\tconst onDateChange = (event) => {\n\t\tsetDate(event.target.value)\n\t}\n\n\tconst onVendorChange = (event) => {\n\t\tsetVendor(event.target.value)\n\t}\n\n\tconst onAmountChange = (event) => {\n\t\tsetAmount(event.target.value)\n\t}\n\n\tconst onCategoryChange = (event) => {\n\t\tsetCategory(event)\n\t}\n\n\tconst onUpdateTransaction = () => {\n\t\tfetch(props.host+'update', {\n\t\t\tmethod: 'post',\n\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\tbody: JSON.stringify({\n\t\t\t  \"date\": date,\n\t\t\t  \"vendor\": vendor,\n\t\t\t  \"category\": category,\n\t\t\t  \"status\": props.status,\n\t\t\t  \"amount\": amount,\n\t\t\t  \"transaction_id\": transaction_id\n\t\t\t})\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.catch(console.log)\n\t\tsetVendor(vendor)\n\t\tsetDate(stringDate)\n\t\tsetAmount(amount)\n\t\tsetCategory(category)\n\t\thandelEdit(transaction_id)\n\t\tprops.onChange()\n\n\t}\n\n\tconst formatedDate = getFormattedDate(date)\n\tconst stringDate = getStingDate(date)\n\t// const removeTransactions = handelRemove(id)\n\treturn (\n\t\t<div className='outline'>\n\t\t{ !edit\n\t\t? <div className=\"flex justify-left\">\n\t\t\t<p className=\"date transaction\">{formatedDate}</p> \n\t\t\t<p className=\"vendor transaction\">{vendor}</p> \n\t\t\t<p className='dollar transaction'>$</p>\n\t\t\t<p className=\"amount transaction\">{amount}</p> \n\t\t\t<p className=\"status transaction\"\n\t\t\t\tonClick={() => handelStatus(transaction_id, status, vendor)}\n\t\t\t>{status}\n\t\t\t</p> \n\t\t\t<p className=\"category transaction\">{category}</p>\n\t\t\t<p \n\t\t\t\tclassName=\"edit transaction\" \n\t\t\t\tonClick={() => handelEdit(transaction_id)}>edit\n\t\t\t</p>\n\t\t</div>\n\t\t: \t<div className=\"flex justify-center\">\n\t\t\t\t<p className=\"fl w-10 tc\">{transaction_id}</p> \n\t\t\t\t<input \n\t\t\t\t\tclassName= 'f4 pa2 w-60 center' \n\t\t\t\t\ttype='date' \n\t\t\t\t\tid='date'\n\t\t\t\t\tname='date'\n\t\t\t\t\tvalue={stringDate}\n\t\t\t\t\tonChange={onDateChange}\n\t\t\t\t/>\n\t\t\t\t<input \n\t\t\t\t\tclassName= 'f4 pa2 w-70 center' \n\t\t\t\t\ttype= 'text' \n\t\t\t\t\tplaceholder=\"Vendor\"\n\t\t\t\t\tid='Vendor'\n\t\t\t\t\tname='Vendor'\n\t\t\t\t\tvalue={vendor}\n\t\t\t\t\tonChange={onVendorChange}\n\t\t\t\t/>\n\t\t\t\t<input \n\t\t\t\t\tclassName= 'f4 pa2 w-70 center' \n\t\t\t\t\ttype= 'double' \n\t\t\t\t\tplaceholder=\"Amount\"\n\t\t\t\t\tid='Amount'\n\t\t\t\t\tname='Amount'\n\t\t\t\t\tvalue={amount}\n\t\t\t\t\tonChange={onAmountChange}\n\t\t\t\t/>\n\t\t\t\t<Search \n\t\t\t\t\tonChange={onCategoryChange}\n\t\t\t\t/>\n\t\t\t\t<button onClick={handelEdit}>Cancel </button>\n\t\t\t\t<button onClick={onUpdateTransaction}>Update </button>\n\t\t\t\t{/*\t<button onClick={removeTransactions}>Del </button>*/}\t\t\n\t\t\t</div>\n\t\t}\n\t\t</div>\n\n\t\t);\n\n}\n\nexport default Transaction;"]},"metadata":{},"sourceType":"module"}