{"ast":null,"code":"import _slicedToArray from\"/Users/adamkile/Desktop/Programming/budget/budget_frontend_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';export default function useBalance(account_id,host,address,submit){var _useState=useState(),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];var _useState3=useState('black'),_useState4=_slicedToArray(_useState3,2),color=_useState4[0],setColor=_useState4[1];useEffect(function(){if(account_id){try{fetch(\"\".concat(host).concat(address),{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"account_id\":account_id})}).then(function(response){return response.json();}).then(function(data){return setTotal(data[0].sum);});}catch(error){console.error(error);}if(total<0){setColor('red');}else{setColor('black');}}},[account_id,total,host,submit]);return[total,color];}","map":{"version":3,"sources":["/Users/adamkile/Desktop/Programming/budget/budget_frontend_test/src/Hooks/useBalance.js"],"names":["useState","useEffect","useBalance","account_id","host","address","submit","total","setTotal","color","setColor","fetch","method","headers","body","JSON","stringify","then","response","json","data","sum","error","console"],"mappings":"sLAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA,cAAe,SAASC,CAAAA,UAAT,CAAoBC,UAApB,CAAgCC,IAAhC,CAAsCC,OAAtC,CAA+CC,MAA/C,CAAuD,eAC3CN,QAAQ,EADmC,wCAC9DO,KAD8D,eACvDC,QADuD,8BAE3CR,QAAQ,CAAC,OAAD,CAFmC,yCAE9DS,KAF8D,eAEvDC,QAFuD,eAGrET,SAAS,CAAC,UAAM,CACf,GAAIE,UAAJ,CAAgB,CACf,GAAI,CACHQ,KAAK,WAAIP,IAAJ,SAAWC,OAAX,EAAsB,CAC1BO,MAAM,CAAE,MADkB,CAE1BC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAFiB,CAG1BC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnB,aAAcb,UADK,CAAf,CAHoB,CAAtB,CAAL,CAOEc,IAPF,CAOO,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAPf,EAQOF,IARP,CAQY,SAAAG,IAAI,QAAIZ,CAAAA,QAAQ,CAACY,IAAI,CAAC,CAAD,CAAJ,CAAQC,GAAT,CAAZ,EARhB,EAUA,CAAC,MAAOC,KAAP,CAAc,CACfC,OAAO,CAACD,KAAR,CAAcA,KAAd,EACA,CACD,GAAIf,KAAK,CAAG,CAAZ,CAAe,CACdG,QAAQ,CAAC,KAAD,CAAR,CACA,CAFD,IAEM,CAACA,QAAQ,CAAC,OAAD,CAAR,CAAkB,CACzB,CAED,CArBQ,CAqBP,CAACP,UAAD,CAAaI,KAAb,CAAoBH,IAApB,CAA0BE,MAA1B,CArBO,CAAT,CAuBA,MAAO,CAACC,KAAD,CAAQE,KAAR,CAAP,CACA","sourcesContent":["import { useState, useEffect } from 'react'\n\nexport default function useBalance(account_id, host, address, submit) {\n\tconst [total, setTotal] = useState();\n\tconst [color, setColor] = useState('black');\n\tuseEffect(() => {\n\t\tif (account_id) {\n\t\t\ttry {\n\t\t\t\tfetch(`${host}${address}`, {\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t  \"account_id\": account_id\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t\t.then(response => response.json())\n\t\t\t      \t.then(data => setTotal(data[0].sum));\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error)\n\t\t\t} \t\t\n\t\t\tif (total < 0) {\n\t\t\t\tsetColor('red')\n\t\t\t}else {setColor('black')}\n\t\t}\n\n\t},[account_id, total, host, submit])\t\n\n\treturn [total, color];\n}"]},"metadata":{},"sourceType":"module"}