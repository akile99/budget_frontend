{"ast":null,"code":"import _slicedToArray from\"/Users/adamkile/Desktop/Programming/budget/budget_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Bill(props){var bill_id=props.bill_id,bill_name=props.bill_name,bill_website=props.bill_website,due_date=props.due_date;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),edit=_useState2[0],setEdit=_useState2[1];var _useState3=useState(props.amount),_useState4=_slicedToArray(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var _useState5=useState(bill_website),_useState6=_slicedToArray(_useState5,2),website=_useState6[0],setWebsite=_useState6[1];var _useState7=useState(bill_name),_useState8=_slicedToArray(_useState7,2),name=_useState8[0],setName=_useState8[1];// const date = props.due_date\nfunction getDay(date){var d=new Date(date);var day=d.getDate();var month=d.getMonth()+1;return month+'/'+day;}var formatedDay=getDay(due_date);var goToWebPage=function goToWebPage(){window.open(bill_website,\"_blank\");};var handelEdit=function handelEdit(){setEdit(!edit);};var onNameChange=function onNameChange(event){setName(event.target.value);};var onAmountChange=function onAmountChange(event){setAmount(event.target.value);};var onWebsiteChange=function onWebsiteChange(event){setWebsite(event.target.value);};var onUpdateBill=function onUpdateBill(){fetch(\"\".concat(props.host,\"update_bill\"),{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"bill_id\":bill_id,\"bill_name\":name,\"amount\":amount,\"bill_website\":website})}).then(function(response){return response.json();}).catch(console.log);handelEdit();};return/*#__PURE__*/_jsx(\"div\",{children:!edit?/*#__PURE__*/_jsxs(\"div\",{className:\"billDiv\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"bill\",children:formatedDay}),/*#__PURE__*/_jsx(\"p\",{className:\"vendor\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"bill\",children:amount}),/*#__PURE__*/_jsx(\"p\",{className:\"bill paybill\",onClick:goToWebPage,children:\"Pay\"}),/*#__PURE__*/_jsx(\"p\",{className:\"bill editbill paybill\",onClick:handelEdit,children:\"Edit\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"fl w-25 pa1 tc ml1\",type:\"text\",id:\"name\",name:\"name\",value:bill_name,onChange:onNameChange}),/*#__PURE__*/_jsx(\"input\",{className:\"fl w-25 pa1 tc ml1\",type:\"double\",id:\"amount\",name:\"amount\",value:amount,onChange:onAmountChange}),/*#__PURE__*/_jsx(\"input\",{className:\"fl w-25 pa1 tc ml1\",type:\"text\",id:\"website\",name:\"website\",value:website,onChange:onWebsiteChange}),/*#__PURE__*/_jsx(\"button\",{className:\"fl w-10 pa1 tc ml1\",onClick:onUpdateBill,children:\"Update \"})]})});}export default Bill;","map":{"version":3,"sources":["/Users/adamkile/Desktop/Programming/budget/budget_frontend/src/components/UpcomingBills/Bill.js"],"names":["React","useState","Bill","props","bill_id","bill_name","bill_website","due_date","edit","setEdit","amount","setAmount","website","setWebsite","name","setName","getDay","date","d","Date","day","getDate","month","getMonth","formatedDay","goToWebPage","window","open","handelEdit","onNameChange","event","target","value","onAmountChange","onWebsiteChange","onUpdateBill","fetch","host","method","headers","body","JSON","stringify","then","response","json","catch","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\nfunction Bill(props) {\n\tconst { bill_id, bill_name, bill_website, due_date} = props;\n\tconst [edit, setEdit] = useState(false);\n\tconst [amount, setAmount] = useState(props.amount)\n\tconst [website, setWebsite] = useState(bill_website)\n\tconst [name, setName] = useState(bill_name)\n\t// const date = props.due_date\n\n\tfunction getDay(date) {\n\t\tconst d = new Date(date);\n\t\tconst day = d.getDate();\n\t\tconst month = (d.getMonth() + 1)\n\t  \n\t  return month + '/' + day;\n\t}\n\n\tconst formatedDay = getDay(due_date)\n\n\tconst goToWebPage = () => {\n\t\twindow.open(\n              bill_website, \"_blank\");\n\t}\n\n\tconst handelEdit = () => {\n\t\tsetEdit(!edit)\n\t}\n\n\tconst onNameChange = (event) => {\n\t\tsetName(event.target.value)\n\t}\n\n\tconst onAmountChange = (event) => {\n\t\tsetAmount(event.target.value)\n\t}\n\n\tconst onWebsiteChange = (event) => {\n\t\tsetWebsite(event.target.value)\n\t}\n\n\tconst onUpdateBill = () => {\n\n\t\tfetch(`${props.host}update_bill`, {\n\t\t\tmethod: 'post',\n\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\"bill_id\": bill_id,\n\t\t\t\t\"bill_name\": name, \n\t\t\t\t\"amount\": amount, \n\t\t\t\t\"bill_website\": website\n\t\t\t})\n\t\t})\n\t\t.then(response => response.json())\n\t\t.catch(console.log)\n\t\thandelEdit()\n\t}\n\n\treturn (\n\t\t<div>\n\t\t{ !edit\n\t\t\t? \t<div className='billDiv'>\t\t\t\t\t\n\t\t\t\t\t<p className=\"bill\">{formatedDay}</p>\n\t\t\t\t\t<p className=\"vendor\">{name}</p> \n\t\t\t\t\t<p className=\"bill\">{amount}</p> \n\t\t\t\t\t<p className=\"bill paybill\" onClick={goToWebPage}>Pay</p>\n\t\t\t\t\t<p className=\"bill editbill paybill\" onClick={handelEdit}>Edit</p>\n\t\t\t\t</div>\n\t\t\t:\n\t\t\t\t<div>\n\t\t\t\t\t<input \n\t\t\t\t\tclassName= 'fl w-25 pa1 tc ml1' \n\t\t\t\t\ttype='text' \n\t\t\t\t\tid='name'\n\t\t\t\t\tname='name'\n\t\t\t\t\tvalue={bill_name}\n\t\t\t\t\tonChange={onNameChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<input \n\t\t\t\t\tclassName= 'fl w-25 pa1 tc ml1' \n\t\t\t\t\ttype='double' \n\t\t\t\t\tid='amount'\n\t\t\t\t\tname='amount'\n\t\t\t\t\tvalue={amount}\n\t\t\t\t\tonChange={onAmountChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<input \n\t\t\t\t\tclassName= 'fl w-25 pa1 tc ml1' \n\t\t\t\t\ttype='text' \n\t\t\t\t\tid='website'\n\t\t\t\t\tname='website'\n\t\t\t\t\tvalue={website}\n\t\t\t\t\tonChange={onWebsiteChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<button className= 'fl w-10 pa1 tc ml1' onClick={onUpdateBill}>Update </button>\n\t\t\t\t</div>\n\t\t}\n\t\t</div>\n\n\t\t);\n\n}\n\nexport default Bill;\n"]},"metadata":{},"sourceType":"module"}