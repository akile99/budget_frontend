{"ast":null,"code":"import _slicedToArray from\"/Users/adamkile/Desktop/Programming/budget/budget_frontend_test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Search from'../Search/Search.js';import'./inputTransactions.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var InputTransaction=function InputTransaction(props){var today=new Date().toISOString().slice(0,10);var _useState=useState(today),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),vendor=_useState4[0],setVendor=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),amount=_useState6[0],setAmount=_useState6[1];var _useState7=useState('Pending'),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),category=_useState10[0],setCategory=_useState10[1];var onDateChange=function onDateChange(event){setDate(event.target.value);};var onVendorChange=function onVendorChange(event){setVendor(event.target.value);};var onAmountChange=function onAmountChange(event){var str=event.target.value;var res=str.replace(/,/g,\"\");setAmount(res);};var onStatusChange=function onStatusChange(event){status==='Pending'?setStatus('Cleared'):setStatus('Pending');};var onCategoryChange=function onCategoryChange(event){setCategory(event);};var onCommitIncome=function onCommitIncome(){onCommitTransaction(amount);};var onCommitExpense=function onCommitExpense(){onCommitTransaction(-amount);};var onCommitTransaction=function onCommitTransaction(amount){fetch(props.host+'insert',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"date\":date,\"vendor\":vendor,\"category\":category,\"status\":status,\"amount\":amount,\"account_id\":props.account_id})}).then(function(response){return response.json();}).then(props.onChange()).catch(console.log);setVendor('');setAmount('');setStatus('Pending');};return/*#__PURE__*/_jsx(\"div\",{className:\"center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form center pa4 br3 shadow-5\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"f4 pa2 w-25 center\",type:\"date\",id:\"date\",name:\"date\",value:date,onChange:onDateChange}),/*#__PURE__*/_jsx(\"input\",{className:\"f4 pa2 w-25 center\",type:\"text\",placeholder:\"Vendor\",id:\"Vendor\",name:\"Vendor\",value:vendor,onChange:onVendorChange}),/*#__PURE__*/_jsx(\"input\",{className:\"f4 pa2 w-25 center\",type:\"double\",placeholder:\"Amount\",id:\"Amount\",name:\"Amount\",value:amount,onChange:onAmountChange}),/*#__PURE__*/_jsx(\"button\",{className:\"w-30 link ph3 pv2 dib btn-white\",id:\"CommitTransactionBTN\",onClick:onStatusChange,children:status}),/*#__PURE__*/_jsx(Search,{className:\"f4 pa2 w-30 center\",onChange:onCategoryChange,host:props.host}),/*#__PURE__*/_jsx(\"button\",{className:\"w-10 grow f4 link ph3 pv2 dib white bg-light-blue\",id:\"CommitTransactionBTN\",onClick:onCommitExpense,children:\"Expense\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-10 grow f4 link ph3 pv2 dib white bg-light-blue\",id:\"CommitTransactionBTN\",onClick:onCommitIncome,children:\"Income\"})]})});};export default InputTransaction;","map":{"version":3,"sources":["/Users/adamkile/Desktop/Programming/budget/budget_frontend_test/src/components/InputTransaction/InputTransaction.js"],"names":["React","useState","Search","InputTransaction","props","today","Date","toISOString","slice","date","setDate","vendor","setVendor","amount","setAmount","status","setStatus","category","setCategory","onDateChange","event","target","value","onVendorChange","onAmountChange","str","res","replace","onStatusChange","onCategoryChange","onCommitIncome","onCommitTransaction","onCommitExpense","fetch","host","method","headers","body","JSON","stringify","account_id","then","response","json","onChange","catch","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Search from '../Search/Search.js'\n\nimport './inputTransactions.css'\n\nconst InputTransaction = (props) => {\n\tconst today = new Date().toISOString().slice(0, 10)\n\tconst [date, setDate] = useState(today)\n\tconst [vendor, setVendor] = useState('')\n\tconst [amount, setAmount] =\tuseState('')\n\tconst [status, setStatus] = useState('Pending')\n\tconst [category, setCategory] = useState()\n\n\tconst onDateChange = (event) => {\n\t\tsetDate(event.target.value)\n\t}\n\n\tconst onVendorChange = (event) => {\n\t\tsetVendor(event.target.value)\n\t}\n\n\tconst onAmountChange = (event) => {\n\t\tconst str = event.target.value; \n  \t\tconst res = str.replace(/,/g, \"\")\n\t\tsetAmount(res)\n\t}\n\n\tconst onStatusChange = (event) => {\n\t\tstatus === 'Pending' ? setStatus('Cleared') : setStatus('Pending')\n\t}\n\n\tconst onCategoryChange = (event) => {\n\t\tsetCategory(event)\n\t}\n\n\tconst onCommitIncome = () => {\n\t\tonCommitTransaction(amount)\n\t}\n\n\tconst onCommitExpense = () => {\n\t\tonCommitTransaction(-amount)\n\t}\n\n\tconst onCommitTransaction = (amount) => {\n\t\tfetch(props.host+'insert', {\n\t\t\tmethod: 'post',\n\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\tbody: JSON.stringify({\n\t\t\t  \"date\": date,\n\t\t\t  \"vendor\": vendor,\n\t\t\t  \"category\": category,\n\t\t\t  \"status\": status,\n\t\t\t  \"amount\": amount,\n\t\t\t  \"account_id\": props.account_id\n\t\t\t})\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(props.onChange())\n\t\t\t.catch(console.log)\n\t\tsetVendor('')\n\t\tsetAmount('')\n\t\tsetStatus('Pending')\n\t}\n\n\treturn (\n\t\t<div className='center'>\n\t\t\t<div className='form center pa4 br3 shadow-5'>\n\t\t\t\t<input \n\t\t\t\t\tclassName= 'f4 pa2 w-25 center' \n\t\t\t\t\ttype='date' \n\t\t\t\t\tid='date'\n\t\t\t\t\tname='date'\n\t\t\t\t\tvalue={date}\n\t\t\t\t\tonChange={onDateChange}\n\t\t\t\t/>\n\t\t\t\t<input \n\t\t\t\t\tclassName= 'f4 pa2 w-25 center' \n\t\t\t\t\ttype= 'text' \n\t\t\t\t\tplaceholder=\"Vendor\"\n\t\t\t\t\tid='Vendor'\n\t\t\t\t\tname='Vendor'\n\t\t\t\t\tvalue={vendor}\n\t\t\t\t\tonChange={onVendorChange}\n\t\t\t\t/>\n\t\t\t\t<input \n\t\t\t\t\tclassName= 'f4 pa2 w-25 center' \n\t\t\t\t\ttype= 'double' \n\t\t\t\t\tplaceholder=\"Amount\"\n\t\t\t\t\tid='Amount'\n\t\t\t\t\tname='Amount'\n\t\t\t\t\tvalue={amount}\n\t\t\t\t\tonChange={onAmountChange}\n\t\t\t\t/>\n\t\t\t\t<button \n\t\t\t\t\tclassName= 'w-30 link ph3 pv2 dib btn-white' \n\t\t\t\t\tid='CommitTransactionBTN'\n\t\t\t\t\tonClick={onStatusChange}\n\t\t\t\t>\n\t\t\t\t{status}\n\t\t\t\t</button>\n\t\t\t\t<Search \n\t\t\t\t\tclassName= 'f4 pa2 w-30 center' \n\t\t\t\t\tonChange={onCategoryChange}\n\t\t\t\t\thost={props.host}\n\t\t\t\t/>\n\t\t\t\t<button \n\t\t\t\t\tclassName= 'w-10 grow f4 link ph3 pv2 dib white bg-light-blue' \n\t\t\t\t\tid='CommitTransactionBTN'\n\t\t\t\t\tonClick={onCommitExpense}\n\t\t\t\t>\n\t\t\t\tExpense\n\t\t\t\t</button>\n\t\t\t\t<button \n\t\t\t\t\tclassName= 'w-10 grow f4 link ph3 pv2 dib white bg-light-blue' \n\t\t\t\t\tid='CommitTransactionBTN'\n\t\t\t\t\tonClick={onCommitIncome}\n\t\t\t\t>\n\t\t\t\tIncome\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default InputTransaction;"]},"metadata":{},"sourceType":"module"}