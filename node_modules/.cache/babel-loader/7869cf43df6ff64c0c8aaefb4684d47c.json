{"ast":null,"code":"import _slicedToArray from\"/Users/adamkile/Desktop/Programming/budget/budget_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=function SignIn(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),signInEmail=_useState2[0],setSignInEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),signInPassword=_useState4[0],setSignInPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),missingPassword=_useState8[0],setMissingPassword=_useState8[1];var onEmailChange=function onEmailChange(event){setSignInEmail(event.target.value);};var onPasswordChange=function onPasswordChange(event){setSignInPassword(event.target.value);};var onSubmitSignIn=function onSubmitSignIn(){if(signInEmail&&signInPassword){setLoading(true);fetch(props.host+'signin',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:signInEmail,password:signInPassword})}).then(function(response){return response.json();}).then(function(user){if(user!=='wrong credentials'){props.onChange(user[0].user_id,user[0].firstname);}else{props.onChange(-1,-1);}});}else if(!signInEmail){console.log(\"missing email!!\");}else if(!signInPassword){console.log(\"missing password!!\");setMissingPassword(true);}};return/*#__PURE__*/_jsx(\"article\",{className:\"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center\",children:/*#__PURE__*/_jsx(\"main\",{className:\"pa4 black-80\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"measure\",children:[/*#__PURE__*/_jsxs(\"fieldset\",{id:\"sign_up\",className:\"ba b--transparent ph0 mh0\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"f1 fw6 ph0 mh0\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"email-address\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",type:\"email\",name:\"email-address\",id:\"email-address\",onChange:onEmailChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mv3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",type:\"password\",name:\"password\",id:\"password\",onChange:onPasswordChange,required:true}),missingPassword?/*#__PURE__*/_jsx(\"p\",{children:\"Missing Password\"}):/*#__PURE__*/_jsx(\"p\",{})]}),/*#__PURE__*/_jsx(\"label\",{className:\"pa0 ma0 lh-copy f6 pointer\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"input\",{onClick:onSubmitSignIn,className:\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\",type:\"submit\",value:!loading?\"Sign in\":\"Loading\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"lh-copy mt3\",children:/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return props.onRegisterChange('register');},className:\"f6 link dim black db pointer\",children:\"Register\"})})]})})});};export default SignIn;","map":{"version":3,"sources":["/Users/adamkile/Desktop/Programming/budget/budget_frontend/src/components/SignIn/SignIn.js"],"names":["React","useState","SignIn","props","signInEmail","setSignInEmail","signInPassword","setSignInPassword","loading","setLoading","missingPassword","setMissingPassword","onEmailChange","event","target","value","onPasswordChange","onSubmitSignIn","fetch","host","method","headers","body","JSON","stringify","email","password","then","response","json","user","onChange","user_id","firstname","console","log","onRegisterChange"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\nconst SignIn = (props) => {\n\tconst [signInEmail, setSignInEmail] = useState('');\n\tconst [signInPassword, setSignInPassword] = useState('')\n\tconst [loading, setLoading] = useState(false);\n\tconst [missingPassword, setMissingPassword] = useState(false);\n\n\tconst onEmailChange = (event) => {\n\t\tsetSignInEmail(event.target.value);\n\t}\n\t\n\tconst onPasswordChange = (event) => {\n\t\tsetSignInPassword(event.target.value);\n\t}\n\n\tconst onSubmitSignIn = () => {\n\t\tif (signInEmail && signInPassword) {\n\t\t\tsetLoading(true);\n\t\t\tfetch(props.host + 'signin', {\n\t\t\t\tmethod: 'post',\n\t\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\temail: signInEmail,\n\t\t\t\t\tpassword: signInPassword\n\t\t\t\t})\n\t\t\t})\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(user => {\n\t\t\t\t\tif (user !== 'wrong credentials') {\n\t\t\t\t\t\tprops.onChange(user[0].user_id, user[0].firstname);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprops.onChange(-1, -1)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t}\n\t\telse if (!signInEmail) {\n\t\t\tconsole.log(\"missing email!!\");\n\t\t}\n\t\telse if (!signInPassword) {\n\t\t\tconsole.log(\"missing password!!\");\n\t\t\tsetMissingPassword(true);\n\t\t}\n\t}\n\treturn (\n\t\t<article className=\"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center\">\n\t\t\t<main className=\"pa4 black-80\">\n\t\t\t  <div className=\"measure\">\n\t\t\t    <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\n\t\t\t      <legend className=\"f1 fw6 ph0 mh0\">Sign In</legend>\n\t\t\t      <div className=\"mt3\">\n\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"email-address\">Email</label>\n\t\t\t        <input className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" type=\"email\" name=\"email-address\" id=\"email-address\" onChange={onEmailChange} required/>\n\t\t\t      </div>\n\t\t\t      <div className=\"mv3\">\n\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Password</label>\n\t\t\t        <input className=\"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" type=\"password\" name=\"password\" id=\"password\" onChange={onPasswordChange} required/>\n\t\t\t        { missingPassword ? <p>Missing Password</p> : <p></p>}\n\t\t\t        \n\t\t\t      </div>\n\t\t\t      <label className=\"pa0 ma0 lh-copy f6 pointer\"></label>\n\t\t\t    </fieldset>\n\t\t\t    <div className=\"\">\n\t\t\t      <input onClick={onSubmitSignIn} className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\" type=\"submit\" value={!loading ? \"Sign in\" : \"Loading\"} />\n\t\t\t    </div>\n\t\t\t    <div className='lh-copy mt3'>\n\t\t\t      <p onClick={() => props.onRegisterChange('register')} className='f6 link dim black db pointer'>Register</p>\n\t\t\t    </div>\n\t\t\t  </div>\n\t\t\t</main>\n\t\t</article>\n\t);\n}\n\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}